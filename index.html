<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>打字游戏</title>
<style>
*{ margin:0; padding:0; border:none;}
html,body{ width:100%; height:100%; overflow:hidden}
h1{ height:40px; line-height:40px; text-align:center; margin:0 auto; box-sizing:border-box; position:relative;}
h1 span{ width:80px; height:18px; font-size:14px; line-height:14px; display:block; line-height:18px; cursor:pointer; border-radius:4px; border:#8E8E8E 1px solid; box-sizing:border-box; position:absolute}
h1 span:first-child{ margin:2px 0 2px 0; top:0; right:0;}
h1 span:nth-child(2){ bottom:0; right:0;}
h1 span.current{ background:#A8A8A8; color:#FFFFFF}
h1 span:hover{ background:#333333; color:#FFFFFF;}
.show,.shuru{ width:970px; border:#000000 1px solid; margin:10px auto 0; overflow:hidden; box-shadow:0 0 3px 3px #C0C0C0; border-radius:4px 4px; text-shadow:-2px 0px 4px #5C5C5C ; box-sizing:border-box}
div span{ width:50px; height:50px; float:left; background:red; color:#FFF; line-height:50px; text-align:center; margin-top:10px; display:block; box-shadow:0 0 3px 3px #C0C0C0; border-radius:4px 4px; font-size:30px; font-weight:bold;}
</style>
</head>
<body>
<h1>打字游戏<span class="current">横向模式</span><span>纵向模式</span></h1>
<div class="show"></div>
<div class="shuru"></div>
</body>
<script src="jquery-1.12.0.min.js"></script>
<script>
$(function(){
	var bul=true;//布尔值判定横向竖向，默认横向
	function bulgule(){
		if(bul==true)
		{
			size();
		}else{
			sizeL();	
		}
	}
	bulgule();
	$('h1 span').click(function(){
		$(this).addClass('current').siblings('span').removeClass('current')
		var index=$(this).index();
		if(index===0)
		{
			bul=true;
			size();
			}else{
			bul=false;
			sizeL();}
	});//按钮点击
	function size(){
		$('.show,.shuru').height(($(window).height()-80)/2).css({'margin':'10px auto','float':'none'});
		if($(window).width()<972)
			{
			$('.show,.shuru,h1').width($(window).width()-4);
			}else{
			$('.show,.shuru,h1').width(970);
		}
	};//横向属性
	function sizeL(){
		$('h1').width($(window).width()-22);
		$('.show,.shuru').height($(window).height()-80);
		$('.show,.shuru').width(($(window).width()-44)/2).css({'float':'left','margin':'10px 10px'});
	};//纵向属性

	$(window).resize(function(){
		bulgule();
	});
	//改变窗口大小调整重置布局
	var words = new Array('A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z');
	function Code(event){
		for(var i=0;i<1;i++){
			var wordindex = Math.floor(Math.random()*26);
			$('.show').append('<span>'+words[wordindex]+'</span>').children('span').animate({marginLeft:'10px'},100);
		}
	}
	Code();
	//字母遍历
	$(document).keydown(function(event){
		 Code();
		 $('.shuru').append('<span>'+String.fromCharCode(event.keyCode)+'</span>').children('span').animate({marginLeft:'10px'},100);
		 for(var i=0;i<$('.show>span').length;i++){
			if($('.shuru>span').eq(i).text().charCodeAt(0)==$('.show>span').eq(i).text().charCodeAt(0))
			{
				$('.show>span').eq(i).css({'background':'#000000','color':'#FFFFFF'});
				$('.shuru>span').eq(i).css({'background':'#000000','color':'#FFFFFF'});
			}
			else{
				$('.show>span').eq(i).css({'background':'red','color':'#FFFFFF'});
				$('.shuru>span').eq(i).css({'background':'red','color':'#FFFFFF'});
			}
		}
	});
	//输入检查
})
</script>
</html>
